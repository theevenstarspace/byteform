import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import BenchmarkBarChart from '/src/components/BenchmarkBarChart';
import { getDefinedInUrl } from '/src/getDefinedInUrl';

import encodingDataset from '/benchmarks/byteform/player-encoding.json';
import decodingDataset from '/benchmarks/byteform/player-decoding.json';

# Benchmark

Here are the benchmarks for Byteform compared to other serialization libraries.

Values are in `operations per second`. Higher is better.

Benchmarks are run on a `13th Gen Intel(R) Core(TM) i7-13620H   2.40 GHz` and `16 GB` of RAM.

<details>
  <summary>Task description</summary>

  Main tasks are encoding and decoding a player object with the following structure:

  ```typescript
  interface Vector3 {
    x: number;
    y: number;
    z: number;
  }

  interface Bullet {
    position: Vector3;
    velocity: Vector3;
  }

  interface Player {
    name: string;
    position: Vector3;
    rotation: number;
    bullets: Bullet[];
  }
  ```
</details>

## Encoding

<BenchmarkBarChart data={encodingDataset} />

<details>
  <summary>Source code</summary>

  - Byteform raw benchmark <a href={getDefinedInUrl('/benchmark/src/byteform/player-encoding.ts', 12, 57)}>source</a>
  - Byteform benchmark <a href={getDefinedInUrl('/benchmark/src/byteform/player-encoding.ts', 59, 94)}>source</a>
  - JSON benchmark <a href={getDefinedInUrl('/benchmark/src/byteform/player-encoding.ts', 96, 107)}>source</a>
  - Msgpack-lite benchmark <a href={getDefinedInUrl('/benchmark/src/byteform/player-encoding.ts', 109, 120)}>source</a>
  - Flatbuffers benchmark <a href={getDefinedInUrl('/benchmark/src/byteform/flatbuffers/encode.ts', 6, 37)}>source</a>
  - BSON benchmark <a href={getDefinedInUrl('/benchmark/src/byteform/player-encoding.ts', 124, 135)}>source</a>
</details>

## Decoding

<BenchmarkBarChart data={decodingDataset} />

<details>
  <summary>Source code</summary>
  
  - Byteform raw benchmark <a href={getDefinedInUrl('/benchmark/src/byteform/player-decoding.ts', 13, 82)}>source</a>
  - Byteform benchmark <a href={getDefinedInUrl('/benchmark/src/byteform/player-decoding.ts', 84, 121)}>source</a>
  - JSON benchmark <a href={getDefinedInUrl('/benchmark/src/byteform/player-decoding.ts', 123, 140)}>source</a>
  - Msgpack-lite benchmark <a href={getDefinedInUrl('/benchmark/src/byteform/player-decoding.ts', 142, 159)}>source</a>
  - Flatbuffers benchmark <a href={getDefinedInUrl('/benchmark/src/byteform/flatbuffers/decode.ts', 5, 46)}>source</a>
  - BSON benchmark <a href={getDefinedInUrl('/benchmark/src/byteform/player-decoding.ts', 169, 186)}>source</a>
</details>
